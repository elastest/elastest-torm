<div fxFlex.gt-sm="100" *ngIf="testSuites">
  <mat-card tdMediaToggle="gt-xs">
    <mat-card-title> Test Results </mat-card-title>
    <mat-divider></mat-divider>
    <mat-card-content>
      <div *ngFor="let suite of testSuites" class="push-bottom-sm">
        <td-expansion-panel expand="false">
          <ng-template td-expansion-panel-header>
            <div fxLayout="row" class="pad-top-sm pad-left-sm">
              <span class="centeredStatusIconSpan pad-right-sm">
                <mat-icon [style.color]="suite.getResultIcon().color">{{ suite.getResultIcon().name }}</mat-icon>
              </span>
              <span fxFlex.gt-xs="20">
                <mat-card-subtitle class="pad-left-none"> <strong>Test Suite</strong> </mat-card-subtitle>
                <h4 class="wordBreakAll">{{ suite.name }}</h4>
              </span>
              <span fxFlex.gt-xs="10" fxFlexOffset="2">
                <mat-card-subtitle class="pad-left-none">NÂº Test</mat-card-subtitle>
                <h4>{{ suite.numTests }}</h4>
              </span>
              <span fxFlex.gt-xs="10" fxFlexOffset="2">
                <mat-card-subtitle class="pad-left-none">Errors</mat-card-subtitle>
                <h4>{{ suite.errors }}</h4>
              </span>
              <span fxFlex.gt-xs="10" fxFlexOffset="2">
                <mat-card-subtitle class="pad-left-none">Failures</mat-card-subtitle>
                <h4>{{ suite.failures }}</h4>
              </span>
              <span fxFlex.gt-xs="10" fxFlexOffset="2">
                <mat-card-subtitle class="pad-left-none">Skipped</mat-card-subtitle>
                <h4>{{ suite.skipped }}</h4>
              </span>
              <span fxFlex.gt-xs="10" fxFlexOffset="2">
                <mat-card-subtitle class="pad-left-none">Flakes</mat-card-subtitle>
                <h4>{{ suite.flakes }}</h4>
              </span>
              <span fxFlex.gt-xs="15" fxFlexOffset="2">
                <mat-card-subtitle class="pad-left-none">Time Elapsed (s)</mat-card-subtitle>
                <h4>{{ suite.timeElapsed }}</h4>
              </span>
            </div>
          </ng-template>

          <div fxLayout="column" class="pad-top-sm pad-left-sm">
            <mat-card-subtitle class="pad-left-none">Test Cases</mat-card-subtitle>

            <mat-tab-group
              id="suite{{ suite.id }}TestCasesTabGroup"
              class="testCasesGroup"
              [(selectedIndex)]="selectedTestCaseTab"
            >
              <mat-tab *ngFor="let testCase of suite.testCases">
                <ng-template mat-tab-label>
                  <span matTooltip="{{ testCase.name }}">{{ testCase.name }}</span>
                </ng-template>
                <ng-template matTabContent>
                  <etm-test-case [tJobExec]="tJobExec" [testCase]="testCase"></etm-test-case>
                </ng-template>
              </mat-tab>
            </mat-tab-group>
          </div>
        </td-expansion-panel>
      </div>
    </mat-card-content>
  </mat-card>
</div>
