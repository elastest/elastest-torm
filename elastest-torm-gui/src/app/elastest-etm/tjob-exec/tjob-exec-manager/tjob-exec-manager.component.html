<div layout-gt-sm="row" tdMediaToggle="gt-xs" [mediaClasses]="['push-sm']">
    <div flex-gt-sm="100">
        <md-card tdMediaToggle="gt-xs">
            <md-card-title>
                <a (click)="viewTJob()" class="hover-pointer">
                    <span>TJob</span>
                    <span *ngIf="tJob"> "{{tJob.name}}"</span>
                </a>
                <span>: Execution {{tJobExecId}}</span>
                <span>
                    <md-icon *ngIf="tJobExec.finished()" style="vertical-align: middle;" [style.color]="statusIcon.color">{{statusIcon.name}}</md-icon>
                </span>
            </md-card-title>
            <md-divider></md-divider>
            <md-card-content>
                <div layout="row">
                    <span flex-gt-xs="25">
                        <md-card-subtitle>Result</md-card-subtitle>
                        <h4 [style.color]="statusIcon.color">{{tJobExec.result}}</h4>
                    </span>
                    <span flex-gt-xs="25">
                        <md-card-subtitle>Duration</md-card-subtitle>
                        <h4>{{tJobExec.duration}}</h4>
                    </span>
                    <span flex-gt-xs="25" *ngIf="tJobExec.sutExec !== undefined && tJobExec.sutExec === 0">
                        <md-card-subtitle>Sut Execution</md-card-subtitle>
                        <h4>None</h4>
                    </span>
                    <span flex-gt-xs="25" *ngIf="tJobExec.sutExec !== undefined && tJobExec.sutExec !== 0">
                        <md-card-subtitle>Sut Execution</md-card-subtitle>
                        <h4>{{tJobExec.sutExec.id}}</h4>
                    </span>
                    <span flex-gt-xs="25">
                        <md-card-subtitle>Error</md-card-subtitle>
                        <h4>{{tJobExec.error}}</h4>
                    </span>
                    <span flex-gt-xs="25">
                        <md-card-subtitle>Log Index</md-card-subtitle>
                        <h4>{{tJobExec.logIndex}}</h4>
                    </span>
                </div>
                <td-expansion-panel label="Parameters" expand="false" *ngIf="tJobExec.parameters.length > 0">
                    <td-data-table [data]="tJobExec.parameters"></td-data-table>
                </td-expansion-panel>
            </md-card-content>
        </md-card>
    </div>
</div>

<div layout-gt-sm="row" tdMediaToggle="gt-xs" [mediaClasses]="['push-sm']" *ngIf="tJobExec.testSuite !== undefined && tJobExec.testSuite !== null && tJobExec.testSuite.testCases != undefined && tJobExec.testSuite.testCases != null">
    <div flex-gt-sm="100">
        <md-card tdMediaToggle="gt-xs">
            <md-card-title>
                Test Suite
            </md-card-title>
            <md-divider></md-divider>
            <md-card-content>
                <div layout="row">
                    <span flex-gt-xs="25">
                        <md-card-subtitle>Name</md-card-subtitle>
                        <h4>{{tJobExec.testSuite.name}}</h4>
                    </span>
                    <span flex-gt-xs="25">
                        <md-card-subtitle>NÂº Test</md-card-subtitle>
                        <h4>{{tJobExec.testSuite.numTests}}</h4>
                    </span>
                    <span flex-gt-xs="25">
                        <md-card-subtitle>Errors</md-card-subtitle>
                        <h4>{{tJobExec.testSuite.errors}}</h4>
                    </span>
                    <span flex-gt-xs="25">
                        <md-card-subtitle>Failures</md-card-subtitle>
                        <h4>{{tJobExec.testSuite.failures}}</h4>
                    </span>
                    <span flex-gt-xs="25">
                        <md-card-subtitle>Skipped</md-card-subtitle>
                        <h4>{{tJobExec.testSuite.skipped}}</h4>
                    </span>
                    <span flex-gt-xs="25">
                        <md-card-subtitle>Flakes</md-card-subtitle>
                        <h4>{{tJobExec.testSuite.flakes}}</h4>
                    </span>
                    <span flex-gt-xs="25">
                        <md-card-subtitle>Time Elapsed</md-card-subtitle>
                        <h4>{{tJobExec.testSuite.timeElapsed}}</h4>
                    </span>
                </div>
                <div layout="row" class="push-top">
                    <md-card-subtitle>Test Cases</md-card-subtitle>
                </div>

                <td-data-table #testCasesTable *ngIf="tJobExec.testSuite.testCases.length > 0" class="scroll_table" [data]="tJobExec.testSuite.testCases"
                    [selectable]="false" [clickable]="false" [sortable]="false">
                </td-data-table>
            </md-card-content>
        </md-card>
    </div>
</div>

<!-- logs & Metrics -->
<etm-logs-metrics-view #logsAndMetrics [live]="false"></etm-logs-metrics-view>

<!-- Execution files -->
<etm-files-manager [tJobId]="tJobId" [tJobExecId]="tJobExecId"></etm-files-manager>