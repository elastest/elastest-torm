<div class="md-content">
  <div layout="column" layout-gt-sm="row">
    <div flex-gt-sm="100">
      <md-card>
        <md-card-title>
          <div layout="row">
            <span>Files</span>
            <span flex></span>
            <button md-icon-button color="accent" (click)="waitForExecutionFiles()" title="Reload Files" [disabled]="subscription || loading || executionFiles.length > 0">
              <md-icon>sync</md-icon>
            </button>
          </div>
        </md-card-title>
        <md-divider></md-divider>
        <md-card-content>
          <md-spinner strokeWidth="6" *ngIf="loading" color="accent" class="push-top-sm spinnerCenter"></md-spinner>
          <div *ngIf="!loading && executionFiles.length === 0" class="push-top-important messageEmptyCard">
            <md-icon>assignment</md-icon>
            <p>No files generated during execution</p>
          </div>
          <td-data-table *ngIf="executionFiles && executionFiles.length > 0" #filesTable class="scroll_table" [data]="executionFiles"
            [columns]="filesColumns" [selectable]="false" [clickable]="true" [sortable]="false" [sortBy]="sortBy" [sortOrder]="sortOrder"
            (sortChange)="sort($event)">
            <ng-template tdDataTableTemplate="options" let-value="value" let-row="row" let-column="column">
              <div layout="row" class="optionsColumn">
                <!--button md-button (click)="downloadFile(row)" class="iconBtn-lg" title="Download file"
                  id="download_file"-->
                <a md-button [attr.href]="filesUrlPrefix + row.url" class="iconBtn-lg" target="_blank">
                  <md-icon>open_in_new</md-icon>
                </a>
                <!--/button-->
              </div>
            </ng-template>
          </td-data-table>
        </md-card-content>
      </md-card>
    </div>
  </div>
</div>